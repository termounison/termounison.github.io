<!DOCTYPE html>

<!--

RECUERDA:

El estilo moderno de desarrollo HTML/CSS/JS se centra en la Separación de 
Responsabilidades y la Eficiencia del Código para mejorar la mantenibilidad, 
la escalabilidad y el rendimiento de la aplicación.

HTML: Estructura Pura (Sin Lógica):
El objetivo es que el HTML solo defina la estructura y el contenido, 
abstrayéndose de cualquier comportamiento.

CSS: Apariencia y Transiciones (Sin Comportamiento):
El CSS debe centrarse en la presentación y en cómo se ven las cosas 
en respuesta a los estados (clases) manipulados por JS.

JS: Comportamiento y Gestión del Estado (Pura Lógica):
El JS es el motor que controla la interacción del usuario 
y manipula el DOM (document object model) y las clases de CSS.

document.addEventListener('DOMContentLoaded', () => {
    // ... Todo el código de inicialización y vinculación de eventos va aquí ...
});

-->

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equilibrio Químico</title>

<style>
       
        @font-face {
            font-family: 'Open Sans';
            src: url('./fonts/OpenSans-VariableFont_wdth,wght.ttf') format('truetype');
            font-weight: 300 800;
            font-style: normal italic;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            display: flex;
            justify-content: center;
            flex-direction: column;
            background-color: #FAFAFA;
            margin: 0;
        }
        .container {
            background: #fff;
            padding: 10px;
            border-radius: 10px;
            width: 100%;
            max-width: 600px;
            margin: 10px auto;
        }
        .button-group {
            display: flex;
            width: 100%;
            gap: 10px;
            margin-bottom: 10px;
        }        
        
        .btn {
            padding: 10px 14px;
            font-size: 16px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            text-align: center;
            text-decoration: none;
            flex-grow: 1;
            margin: 0;
            transition: background-color 0.2s; 
        }

        .btn:hover {
            background-color: #0056b3;
        }        
        .footer-text {
            width: 100%;
            color: #666;
            text-align: center;
            font-size: 12px;
        }

        .falso-item {
            color: gray;
        }
        
        .oculto {
            display: none;
        }
        
        .question-item {
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .question-item p {
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center; 
            gap: 5px; 
        }
        .resultado-icono {
            font-size: 1.5em; 
            flex-shrink: 0; 
        }
        .options {
            display: flex;
            gap: 20px;
            margin-top: 5px;
            font-size: 14px;
        }
        
        .result-item-correct::before,
        .result-item-incorrect::before {
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        .result-item-correct::before {
            content: '✅';
        }
        .result-item-incorrect::before {
            content: '❌';
        }
        
        .result-list-item {
            color: #333; 
            font-weight: normal;
            padding-left: 0;
            margin-left: 0;
        }
    </style>


</head>
<body>

<div class="container">

    <center><h1>Equilibrio Químico</h1></center>
    <div class="button-group">
        <button id="oraciones" class="btn">Oraciones</button>
        <button id="examen" class="btn">Examen</button>
    </div>

    <div id="contenido-preguntas" class="oculto"> 
    </div>

    <div id="contenido-examen" class="oculto">
        <form id="examenForm"></form>
        <button id="verificar" class="btn btn-check oculto">Verificar</button>
        <div id="resultados-examen"></div>
    </div>
    
</div>

<div class="footer-text">
    <h4>&#169; 2024, 2025 Dr. Octavio Juárez</h4>
    <h5>octavio.juarez@unison.mx</h5>
</div>

<script>
    // DATA: Preguntas y respuestas del examen
const PREGUNTAS = [
  { pregunta: "Una reacción reversible es aquella en la que los productos pueden reaccionar para formar nuevamente los reactivos", respuesta: "Verdadero" },
  { pregunta: "Una reacción reversible es aquella en la que los productos no pueden reaccionar para formar nuevamente los reactivos", respuesta: "Falso" },
  { pregunta: "El equilibrio químico se alcanza cuando las velocidades de la reacción directa e inversa son iguales", respuesta: "Verdadero" },
  { pregunta: "El equilibrio químico se alcanza cuando las velocidades de la reacción directa e inversa son diferentes", respuesta: "Falso" },
  { pregunta: "En el equilibrio químico, las concentraciones de reactivos y productos permanecen constantes en el tiempo", respuesta: "Verdadero" },
  { pregunta: "En el equilibrio químico, las concentraciones de reactivos y productos cambian con el tiempo", respuesta: "Falso" },
  { pregunta: "La Ley de Acción de Masas establece que existe una relación matemática entre las concentraciones de productos y reactivos en el equilibrio", respuesta: "Verdadero" },
  { pregunta: "La Ley de Acción de Masas establece que existe una relación matemática entre las velocidades de reacción iniciales", respuesta: "Falso" },
  //{ pregunta: "El valor de K depende de la forma en que está balanceada la ecuación química", respuesta: "Verdadero" },
  //{ pregunta: "El valor de K no depende de la forma en que está balanceada la ecuación química", respuesta: "Falso" },
  { pregunta: "Si K >> 1, el equilibrio está desplazado hacia la formación de productos", respuesta: "Verdadero" },
  { pregunta: "Si K << 1, el equilibrio está desplazado hacia la formación de productos", respuesta: "Falso" },
  { pregunta: "Si K << 1, el equilibrio está desplazado hacia la formación de reactivos", respuesta: "Verdadero" },
  { pregunta: "Si K >> 1, el equilibrio está desplazado hacia la formación de reactivos", respuesta: "Falso" },
  { pregunta: "La constante de equilibrio (K) solo depende de la temperatura", respuesta: "Verdadero" },
  { pregunta: "La constante de equilibrio (K) depende de la concentración inicial de los reactivos", respuesta: "Falso" },
  { pregunta: "En el cálculo de K, no se incluyen las concentraciones de sustancias en estado líquido puro o sólido puro", respuesta: "Verdadero" },
  { pregunta: "En el cálculo de K, se incluyen las concentraciones de todas las sustancias, incluyendo sólidos y líquidos puros", respuesta: "Falso" },
  { pregunta: "Si Q < K, la reacción procederá hacia la derecha (formación de productos) para alcanzar el equilibrio", respuesta: "Verdadero" },
  { pregunta: "Si Q > K, la reacción procederá hacia la derecha (formación de productos) para alcanzar el equilibrio", respuesta: "Falso" },
  { pregunta: "El Principio de Le Châtelier establece que un sistema en equilibrio, al ser perturbado, evoluciona en la dirección que contrarresta el efecto de la perturbación", respuesta: "Verdadero" },
  { pregunta: "El Principio de Le Châtelier establece que un sistema en equilibrio, al ser perturbado, evoluciona en la dirección que amplifica el efecto de la perturbación", respuesta: "Falso" },
  { pregunta: "Si se aumenta la concentración de un reactivo, el equilibrio se desplaza hacia los productos", respuesta: "Verdadero" },
  { pregunta: "Si se aumenta la concentración de un producto, el equilibrio se desplaza hacia los productos", respuesta: "Falso" },
  { pregunta: "En reacciones con cambio de moles de gas, si se aumenta la presión (disminuyendo el volumen), el equilibrio se desplaza hacia el lado con menor número de moles de gas", respuesta: "Verdadero" },
  { pregunta: "En reacciones con cambio de moles de gas, si se aumenta la presión, el equilibrio se desplaza hacia el lado con mayor número de moles de gas", respuesta: "Falso" },
  { pregunta: "La adición de un catalizador en un sistema en equilibrio aumenta la velocidad de las reacciones directa e inversa por igual", respuesta: "Verdadero" },
  { pregunta: "La adición de un catalizador en un sistema en equilibrio desplaza la posición del equilibrio", respuesta: "Falso" },
  { pregunta: "Si Delta G° < 0, la reacción es espontánea en condiciones estándar y K > 1", respuesta: "Verdadero" },
  { pregunta: "Si Delta G° > 0, la reacción es espontánea en condiciones estándar y K > 1", respuesta: "Falso" },
  { pregunta: "Si Delta G° = 0, el sistema está en equilibrio en condiciones estándar y K = 1", respuesta: "Verdadero" },
  { pregunta: "Si Delta G° = 0, el sistema está en equilibrio en condiciones estándar y K > 1", respuesta: "Falso" },
  { pregunta: "Para una reacción endotérmica (ΔH° > 0), un aumento de temperatura provoca un aumento en el valor de la constante de equilibrio (K)", respuesta: "Verdadero" },
  { pregunta: "Para una reacción exotérmica (ΔH° < 0), un aumento de temperatura provoca un aumento en el valor de la constante de equilibrio (K)", respuesta: "Falso" },
  { pregunta: "Para una reacción endotérmica (ΔH° > 0), un aumento de temperatura desplaza el equilibrio hacia los productos", respuesta: "Verdadero" },
  { pregunta: "Para una reacción exotérmica (ΔH° < 0), un aumento de temperatura desplaza el equilibrio hacia los productos", respuesta: "Falso" },
  //{ pregunta: "Si la constante de equilibrio (K) aumenta al aumentar la temperatura, la reacción es endotérmica", respuesta: "Verdadero" },
  //{ pregunta: "Si la constante de equilibrio (K) aumenta al aumentar la temperatura, la reacción es exotérmica", respuesta: "Falso" },
  //{ pregunta: "Si la constante de equilibrio (K) aumenta al disminuir la temperatura, la reacción es exotérmica", respuesta: "Verdadero" },
  //{ pregunta: "Si la constante de equilibrio (K) aumenta al disminuir la temperatura, la reacción es endotérmica", respuesta: "Falso" },
  { pregunta: "Si una reacción se puede expresar como la suma de dos o más reacciones, la constante de equilibrio de la reacción global está dada por el producto de las constantes de equilibrio de las reacciones individuales", respuesta: "Verdadero" },
  { pregunta: "Si una reacción se puede expresar como la suma de dos o más reacciones, la constante de equilibrio de la reacción global está dada por la suma de las constantes de equilibrio individuales", respuesta: "Falso" },
  { pregunta: "Solo el cambio en la temperatura modifica el valor de la constante de equilibrio de una reacción en particular", respuesta: "Verdadero" },
  { pregunta: "Los cambios en la concentración o presión modifican el valor de la constante de equilibrio de una reacción", respuesta: "Falso" },
  { pregunta: "Los cambios en la concentración, presión o volumen pueden cambiar las concentraciones de equilibrio de los reactivos y productos", respuesta: "Verdadero" },
  { pregunta: "Los cambios en la concentración, presión o volumen no tienen ningún efecto sobre las concentraciones de equilibrio", respuesta: "Falso" },
  { pregunta: "La adición de un catalizador apresura el momento en el que se alcanza el equilibrio", respuesta: "Verdadero" },
  { pregunta: "La adición de un catalizador modifica las concentraciones de los reactivos y de los productos en el equilibrio", respuesta: "Falso" }
];
    
    let currentExamQuestions = [];

    // --- Referencias DOM (Acceso a Elementos) ---
    // PRÁCTICA MODERNA: Se obtienen referencias una sola vez al inicio.
    const contenedorOraciones = document.getElementById('contenido-preguntas');
    const contenedorExamen = document.getElementById('contenido-examen');
    const formExamen = document.getElementById('examenForm');
    const botonVerificar = document.getElementById('verificar');
    const resultadosBox = document.getElementById('resultados-examen');
    const btnOraciones = document.getElementById('oraciones'); // Nueva referencia
    const btnExamen = document.getElementById('examen');       // Nueva referencia
    
    // --- Funciones de Utilidad ---
    
    /**
     * Devuelve elementos aleatorios de un array.
     * @param {Array} arr - Array de origen.
     * @param {number} n - Número de elementos a devolver.
     */
    function getRandomElements(arr, n) {
        const shuffled = arr.slice().sort(() => 0.5 - Math.random());
        return shuffled.slice(0, n);
    }
    
    /**
     * Muestra el contenido de las oraciones. Se llama al inicio.
     */
    function inicializarOraciones() {
        let htmlContent = '<ul>';
        PREGUNTAS.forEach((item) => {
            const esFalso = item.respuesta.trim().toLowerCase().startsWith("falso"); 
            const clase = esFalso ? 'class="falso-item"' : '';
            const respuesta_str = item.respuesta.endsWith('.') ? item.respuesta : item.respuesta + '.'; 
            htmlContent += `<li ${clase}>${item.pregunta}: ${respuesta_str}</li><br>`; 
        });

        htmlContent += '</ul>';
        contenedorOraciones.innerHTML = htmlContent;
    }

    // --- Función de Control de Vistas ---
    
    /**
     * Cambia entre la vista de 'oraciones' y 'examen'.
     * Ya no es necesario que sea global (sin 'window.').
     * @param {string} vista - 'oraciones' o 'examen'.
     */
    function cambiarVista(vista) {
        // Limpiar elementos de la vista anterior
        resultadosBox.innerHTML = '';
        botonVerificar.classList.add('oculto');
        document.querySelectorAll('.resultado-icono').forEach(el => el.remove());
        
        if (vista === 'oraciones') {
            contenedorOraciones.classList.remove('oculto');
            contenedorExamen.classList.add('oculto');
        } else if (vista === 'examen') {
            contenedorOraciones.classList.add('oculto');
            contenedorExamen.classList.remove('oculto');
            generarContenidoExamen(); // Carga las preguntas
        }
    }


    function generarContenidoExamen() {
        currentExamQuestions = getRandomElements(PREGUNTAS, 10);
        
        let examHtml = '';
        currentExamQuestions.forEach((item, index) => {
            examHtml += `
                <div class="question-item" data-index="${index}">
                    <p>${index + 1}. ${item.pregunta}</p>
                    <div class="options">
                        <label>
                            <input type="radio" name="q${index}" value="Verdadero" required> Verdadero
                        </label>
                        <label>
                            <input type="radio" name="q${index}" value="Falso"> Falso
                        </label>
                    </div>
                </div>
            `;
        });

        formExamen.innerHTML = examHtml;
        botonVerificar.classList.remove('oculto');
    }

    /**
     * Verifica las respuestas del examen y muestra los íconos de resultado.
     * Ya no es necesario que sea global (sin 'window.').
     */
    function verificarExamen() {
        let allAnswered = true;
        
        // Primero, eliminar todos los iconos anteriores antes de volver a verificar
        document.querySelectorAll('.resultado-icono').forEach(el => el.remove());
        
        currentExamQuestions.forEach((item, index) => {
            const name = `q${index}`;
            const questionItem = formExamen.querySelector(`.question-item[data-index="${index}"]`);
            const questionParagraph = questionItem.querySelector('p');
            const selected = formExamen.querySelector(`input[name="${name}"]:checked`);
            
            if (!selected) {
                allAnswered = false;
                return;
            }
            
            const userAnswer = selected.value;
            const isCorrect = userAnswer === item.respuesta;
            
            // Crear y añadir el icono al inicio del párrafo
            const iconSpan = document.createElement('span');
            iconSpan.classList.add('resultado-icono');
            iconSpan.innerHTML = isCorrect ? '✅' : '❌'; // Asigna el ícono
            
            // Insertar el icono al inicio del párrafo
            questionParagraph.insertBefore(iconSpan, questionParagraph.firstChild);
        });

        if (!allAnswered) {
            resultadosBox.innerHTML = '<p style="color: red; font-weight: bold;">Por favor, conteste todas las preguntas para verificar.</p>';
            return; 
        }
        
        resultadosBox.innerHTML = ''; // Limpia el mensaje de error si existe
    }
    
    // --- Ejecución Inicial y Vinculación de Eventos ---
    // PRÁCTICA MODERNA: document.addEventListener('DOMContentLoaded') asegura que el script espera a que el HTML se cargue.
    document.addEventListener('DOMContentLoaded', () => {
        
        // Inicializa el contenido de la primera vista
        inicializarOraciones();
        
        // Asegura que la vista de "Oraciones" esté activa al cargar
        contenedorExamen.classList.add('oculto'); 
        contenedorOraciones.classList.remove('oculto'); 
        
        // VINCULACIÓN DE EVENTOS (Práctica Moderna: addEventListener)
        if (btnOraciones) {
            // Usa una función anónima para llamar a cambiarVista con el argumento 'oraciones'
            btnOraciones.addEventListener('click', () => cambiarVista('oraciones'));
        }
        if (btnExamen) {
            // Usa una función anónima para llamar a cambiarVista con el argumento 'examen'
            btnExamen.addEventListener('click', () => cambiarVista('examen'));
        }
        if (botonVerificar) {
            // Vincula directamente la función verificarExamen al click
            botonVerificar.addEventListener('click', verificarExamen);
        }
    });

</script>

</body>
</html>
